{
  "$schema": "",
  "name": "use-session-storage-advanced-example",
  "type": "registry:example",
  "author": "shaddy (https://shaddy-docs.vercel.app/)",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "examples/hooks/use-session-storage-advanced-example.tsx",
      "content": "'use client'\n\nimport { Button } from '@/components/ui/button'\nimport { useSessionStorage } from '@/registry/default/hooks/use-session-storage'\n\n// Example 4: Session-based analytics tracking\nconst AdvancedExample = () => {\n  type AnalyticsEvent = {\n    id: number\n    type: string\n    timestamp: Date\n  }\n\n  const [analytics, setAnalytics, removeAnalytics] = useSessionStorage<\n    AnalyticsEvent[]\n  >('session-analytics', [], {\n    serializer: (events: AnalyticsEvent[]) =>\n      JSON.stringify(\n        events.map((event) => ({\n          ...event,\n          timestamp: event.timestamp.toISOString(),\n        }))\n      ),\n    deserializer: (data: string) =>\n      JSON.parse(data).map((event: any) => ({\n        ...event,\n        timestamp: new Date(event.timestamp),\n      })),\n  })\n\n  const addEvent = (type: string) => {\n    const newEvent = {\n      id: Date.now(),\n      type,\n      timestamp: new Date(),\n    }\n    setAnalytics([...analytics, newEvent])\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"bg-muted/30 rounded-md p-4 shadow-sm\">\n        <h3 className=\"text-lg font-semibold mb-4\">Session Analytics</h3>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div className=\"space-y-3\">\n            <h4 className=\"font-medium\">Track Session Events</h4>\n            <div className=\"p-3 bg-muted/50 rounded\">\n              <div className=\"text-sm text-muted-foreground\">\n                Total Events: {analytics.length}\n              </div>\n              <div className=\"flex gap-2 mt-2\">\n                <Button onClick={() => addEvent('page_view')} size=\"sm\">\n                  Log Page View\n                </Button>\n                <Button onClick={() => addEvent('click')} size=\"sm\">\n                  Log Click\n                </Button>\n                <Button\n                  onClick={removeAnalytics}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  disabled={analytics.length === 0}\n                >\n                  Clear Events\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {analytics.length > 0 && (\n          <div className=\"mt-4\">\n            <h5 className=\"font-medium mb-2\">Session Events:</h5>\n            <div className=\"space-y-2 max-h-40 overflow-y-auto\">\n              {analytics.map((event) => (\n                <div\n                  key={event.id}\n                  className=\"flex justify-between items-center p-2 bg-background rounded border text-sm\"\n                >\n                  <span>{event.type}</span>\n                  <span className=\"font-mono\">\n                    {event.timestamp.toLocaleString()}\n                  </span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"text-sm p-2 bg-muted/30 text-muted-foreground rounded border\">\n        <code className=\"font-mono text-xs\">\n          Tracks session events with custom serialization\n        </code>\n      </div>\n    </div>\n  )\n}\n\nexport default AdvancedExample\n",
      "type": "registry:example",
      "target": "components/use-session-storage-advanced-example.tsx"
    }
  ]
}
