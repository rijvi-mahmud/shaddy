#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

pnpm format
pnpm build
echo "Running: pnpm lint"
pnpm lint
if [ $? -ne 0 ]; then
  echo "\n❌ Linting failed. Commit aborted."
  exit 1
fi

echo "Running: pnpm format"
pnpm format
if [ $? -ne 0 ]; then
  echo "\n❌ Formatting failed. Commit aborted."
  exit 1
fi

echo "Running: pnpm build"
pnpm build
if [ $? -ne 0 ]; then
  echo "\n❌ Build failed. Commit aborted."
  exit 1
fi

echo "Staging all changes..."
git add .

exit 0
